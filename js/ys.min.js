function ys_script_load(e,t,s,i,l){if(l=void 0===l?null:l,""===i||e.getElementById(i)){var n;e.getElementById(t)||(n=e.createElement("script"),n.id=t,n.src=s,n.async=!0,null!=l&&(n.onloadfnc=l),e.body.appendChild(n))}}function ys_sylesheet_load(e,t,s){var i;e.getElementById(t)||(i=e.createElement("link"),i.id=t,i.href=s,i.media="all",i.rel="stylesheet",e.getElementsByTagName("head")[0].appendChild(i))}function ys_get_scroll(e){return e.documentElement.scrollTop||e.body.scrollTop}function ys_load_sns_scripts(e){ys_script_load(e,"twitter-wjs","//platform.twitter.com/widgets.js",""),ys_script_load(e,"facebook-jssdk","//connect.facebook.net/ja_JP/sdk.js#xfbml=1&version=v2.8","")}function ys_fixed_sidebar(e){var t=e.getElementById("primary"),s=e.getElementById("secondary"),i=e.getElementById("sidebar-fixed");if(null!=s&&null!=i){if(t.offsetLeft+t.offsetWidth>s.offsetLeft)return void ys_set_styles_fixed_sidebar(i,"reset",0);var l=e.getElementById("main"),n=e.getElementById("sidebar-right"),o=i.offsetHeight,d=0;if(null!=n&&(o=n.offsetHeight+i.offsetHeight,d=n.offsetHeight),l.offsetHeight<o)return void ys_set_styles_fixed_sidebar(i,"reset",0);var _=s.getBoundingClientRect(),f=_.top+window.pageYOffset,r=ys_get_scroll(e);r+i.offsetHeight+20>f+s.offsetHeight?ys_set_styles_fixed_sidebar(i,"absolute",0):r+20>f+d?ys_set_styles_fixed_sidebar(i,"fixed",20):ys_set_styles_fixed_sidebar(i,"relative",0)}}function ys_set_styles_fixed_sidebar(e,t,s){if(null!=e){var i="relative",l="",n="",o="",d="",_=null;"absolute"==t?(_=e.getBoundingClientRect(),i="absolute",n="0px",o="0px",d=_.width+"px"):"fixed"==t&&(_=e.getBoundingClientRect(),i="fixed",l=s+"px",n=_.left+"px",d=_.width+"px"),e.style.position=i,e.style.top=l,e.style.left=n,e.style.bottom=o,e.style.width=d}}function ys_scroll_main(e){ys_fixed_sidebar(e)}function ys_init(){ys_load_sns_scripts(document)}function ys_evt_scroll(){if(ys_setTimeoutId)return!1;ys_setTimeoutId=setTimeout(function(){ys_scroll_main(document),ys_setTimeoutId=null},100)}var ys_setTimeoutId=null;window.onload=ys_init,window.addEventListener("scroll",ys_evt_scroll);