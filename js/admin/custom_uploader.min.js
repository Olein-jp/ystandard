jQuery(document).ready(function(t){var a,e="画像を選択",i=".ys-custom-image-upload-url",r=".ys-custom-image-upload-preview",l=100;t(".ys-custom-image-clear").click(function(a){t(this).attr("data-uploaderurl")&&(i=t(this).attr("data-uploaderurl")),t(this).attr("data-uploaderpreview")&&(r=t(this).attr("data-uploaderpreview")),t(i).val(""),t(r).text("画像が選択されてません。"),t(".ys-custom-image-upload").css("display","block"),t(".ys-custom-image-clear").css("display","none")}),t(".ys-custom-image-upload").click(function(s){if(s.preventDefault(),a)return void a.open();t(this).attr("data-uploadertitle")&&(e=t(this).attr("data-uploadertitle")),t(this).attr("data-uploaderurl")&&(i=t(this).attr("data-uploaderurl")),t(this).attr("data-uploaderpreview")&&(r=t(this).attr("data-uploaderpreview")),t(this).attr("data-uploaderpreview-width")&&(l=t(this).attr("data-uploaderpreview-width")),a=wp.media({title:e,button:{text:"選択"},multiple:!1}),a.on("select",function(){a.state().get("selection").each(function(a){var e=a.toJSON().url;t(i).val(e),t(r).text(""),t(r).append('<img style="max-width:'+l+'px;height:auto;" src="'+e+'" />'),t(".ys-custom-image-upload").css("display","none"),t(".ys-custom-image-clear").css("display","block")})}),a.open()})});